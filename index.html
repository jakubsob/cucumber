<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Write executable specifications in a natural language that describes how your code should behave.
    Write specifications in feature files using Gherkin language and execute them using functions implemented in R.
    Use them as an extension to your testthat tests to provide a high level description of how your code works.">
<title>Behavior-Driven Development in R â€¢ cucumber</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Behavior-Driven Development in R">
<meta property="og:description" content="Write executable specifications in a natural language that describes how your code should behave.
    Write specifications in feature files using Gherkin language and execute them using functions implemented in R.
    Use them as an extension to your testthat tests to provide a high level description of how your code works.">
<meta property="og:image" content="https://jakubsob.github.io/cucumber/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-N7MW34VJS3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-N7MW34VJS3');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">cucumber</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/how-it-works.html">How it works</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jakubsob/cucumber/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="cucumber-">cucumber <a class="anchor" aria-label="anchor" href="#cucumber-"></a>
</h1>
</div>
<!-- badges: start -->

<p>An implementation of the <a href="https://cucumber.io/" class="external-link">Cucumber</a> testing framework in R. Fully native, no external dependencies.</p>
<p>Use it as an extension of your <code>testthat</code> tests or as a standalone testing stage.</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The package parses <a href="https://cucumber.io/docs/gherkin/reference/" class="external-link">Gherkin</a> documents</p>
<pre class="gherkin"><code># tests/testthat/addition.feature
Feature: Addition
  Scenario: Adding 2 integers
    When I add 1 and 1
    Then the result is 2
  Scenario: Adding integer and float
    When I add 1 and 1.1
    Then the result is 2.1
  Scenario: Adding float and float
    When I add 1.1 and 1.1
    Then the result is 2.2</code></pre>
<p>and uses step definitions to run the tests</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># tests/testthat/steps/steps_definitions.R</span></span>
<span><span class="fu"><a href="reference/step.html">when</a></span><span class="op">(</span><span class="st">"I add {int} and {int}"</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">context</span><span class="op">$</span><span class="va">result</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/step.html">then</a></span><span class="op">(</span><span class="st">"the result is {int}"</span>, <span class="kw">function</span><span class="op">(</span><span class="va">expected</span>, <span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="va">context</span><span class="op">$</span><span class="va">result</span>, <span class="va">expected</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/step.html">when</a></span><span class="op">(</span><span class="st">"I add {int} and {float}"</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">context</span><span class="op">$</span><span class="va">result</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/step.html">when</a></span><span class="op">(</span><span class="st">"I add {float} and {float}"</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">context</span><span class="op">$</span><span class="va">result</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/step.html">then</a></span><span class="op">(</span><span class="st">"the result is {float}"</span>, <span class="kw">function</span><span class="op">(</span><span class="va">expected</span>, <span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="va">context</span><span class="op">$</span><span class="va">result</span>, <span class="va">expected</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="running-cucumber-tests-with-testthat-tests">Running cucumber tests with <code>testthat</code> tests.<a class="anchor" aria-label="anchor" href="#running-cucumber-tests-with-testthat-tests"></a>
</h3>
<p>To run <code>cucumber</code> as a part of <code>testthat</code> suite, create a <code>test-cucumber.R</code> file:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' tests/testthat/test-cucumber.R</span></span>
<span><span class="fu">cucumber</span><span class="fu">::</span><span class="fu"><a href="reference/test.html">test</a></span><span class="op">(</span><span class="st">"."</span>, <span class="st">"./steps"</span><span class="op">)</span></span></code></pre></div>
<p>When you run: - <code>testthat::test_dir("tests/testthat")</code>, - <code>testthat::test_file("tests/testthat/test-cucumber.R")</code>, - or <code>devtools::test()</code>,</p>
<p>it will use the <a href="https://testthat.r-lib.org/reference/Reporter.html" class="external-link">testthat reporter</a> to show the results.</p>
<p>The building blocks of the cucumber tests are Features and Scenarios. - Each Feature will be treated as a separate <a href="https://testthat.r-lib.org/reference/context.html?q=context#ref-usage" class="external-link">context</a> â€“ their results will be reported as if they were <code>test-*.R</code> files, e.g.Â <code>'test-Feature: Addition.R'</code>. - Each Scenario is equivalent to a <code><a href="https://testthat.r-lib.org/reference/test_that.html" class="external-link">testthat::test_that</a></code> or <code><a href="https://testthat.r-lib.org/reference/describe.html" class="external-link">testthat::it</a></code> case. You get feedback on each Scenario separately. Only if all steps in a scenario are successful, the scenario is considered successful.</p>
<p>That means a succesful run for an <code>Addition</code> feature would produce the following output (with <a href="https://testthat.r-lib.org/reference/ProgressReporter.html" class="external-link">ProgressReporter</a>).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>v <span class="sc">|</span> F W  S  OK <span class="sc">|</span> Context</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>v <span class="sc">|</span>          <span class="dv">3</span> <span class="sc">|</span> Feature<span class="sc">:</span> Addition</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="sc">==</span> Results <span class="sc">==</span><span class="er">==============================================</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>[ FAIL <span class="dv">0</span> <span class="sc">|</span> WARN <span class="dv">0</span> <span class="sc">|</span> SKIP <span class="dv">0</span> <span class="sc">|</span> PASS <span class="dv">3</span> ]</span></code></pre></div>
<p>And if it doesnâ€™t succeed, it will report which Scenarios failed in the Feature.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>v <span class="sc">|</span> F W  S  OK <span class="sc">|</span> Context</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>x <span class="sc">|</span> <span class="dv">2</span>        <span class="dv">1</span> <span class="sc">|</span> Feature<span class="sc">:</span> Addition</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="sc">--------------------------------------------------------------------------------</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="fu">Failure</span> (<span class="st">'test-cucumber.R:1:1'</span>)<span class="sc">:</span> Scenario<span class="sc">:</span> Adding integer and float</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>context<span class="sc">$</span><span class="fu">result</span> (<span class="st">`</span><span class="at">actual</span><span class="st">`</span>) not equal to <span class="st">`</span><span class="at">expected</span><span class="st">`</span> (<span class="st">`</span><span class="at">expected</span><span class="st">`</span>).</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="st">`</span><span class="at">actual</span><span class="st">`</span><span class="sc">:</span> <span class="dv">2</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="st">`</span><span class="at">expected</span><span class="st">`</span><span class="sc">:</span> <span class="dv">5</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>Backtrace<span class="sc">:</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>x</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="fl">1.</span> \<span class="sc">-</span>global <span class="st">`</span><span class="at">&lt;step&gt;</span><span class="st">`</span>(<span class="at">expected =</span> <span class="dv">5</span><span class="dt">L</span>, <span class="at">context =</span> <span class="st">`</span><span class="at">&lt;env&gt;</span><span class="st">`</span>)</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="fl">2.</span>   \<span class="sc">-</span>testthat<span class="sc">::</span><span class="fu">expect_equal</span>(context<span class="sc">$</span>result, expected) at .<span class="sc">/</span>steps<span class="sc">/</span>addition.R<span class="sc">:</span><span class="dv">7</span><span class="sc">:</span><span class="dv">2</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="fu">Failure</span> (<span class="st">'test-cucumber.R:1:1'</span>)<span class="sc">:</span> Scenario<span class="sc">:</span> Adding float and float</span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>context<span class="sc">$</span><span class="fu">result</span> (<span class="st">`</span><span class="at">actual</span><span class="st">`</span>) not equal to <span class="st">`</span><span class="at">expected</span><span class="st">`</span> (<span class="st">`</span><span class="at">expected</span><span class="st">`</span>).</span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="st">`</span><span class="at">actual</span><span class="st">`</span><span class="sc">:</span> <span class="dv">2</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="st">`</span><span class="at">expected</span><span class="st">`</span><span class="sc">:</span> <span class="dv">5</span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a>Backtrace<span class="sc">:</span></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a>x</span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a><span class="fl">1.</span> \<span class="sc">-</span>global <span class="st">`</span><span class="at">&lt;step&gt;</span><span class="st">`</span>(<span class="at">expected =</span> <span class="dv">5</span><span class="dt">L</span>, <span class="at">context =</span> <span class="st">`</span><span class="at">&lt;env&gt;</span><span class="st">`</span>)</span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a><span class="fl">2.</span>   \<span class="sc">-</span>testthat<span class="sc">::</span><span class="fu">expect_equal</span>(context<span class="sc">$</span>result, expected) at .<span class="sc">/</span>steps<span class="sc">/</span>addition.R<span class="sc">:</span><span class="dv">7</span><span class="sc">:</span><span class="dv">2</span></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="sc">--------------------------------------------------------------------------------</span></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a><span class="er">==</span> Results <span class="sc">==</span><span class="er">===================================================================</span></span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a><span class="sc">--</span> Failed tests <span class="sc">----------------------------------------------------------------</span></span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a><span class="fu">Failure</span> (<span class="st">'test-cucumber.R:1:1'</span>)<span class="sc">:</span> Scenario<span class="sc">:</span> Adding integer and float</span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a>context<span class="sc">$</span><span class="fu">result</span> (<span class="st">`</span><span class="at">actual</span><span class="st">`</span>) not equal to <span class="st">`</span><span class="at">expected</span><span class="st">`</span> (<span class="st">`</span><span class="at">expected</span><span class="st">`</span>).</span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a><span class="st">`</span><span class="at">actual</span><span class="st">`</span><span class="sc">:</span> <span class="dv">2</span></span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a><span class="st">`</span><span class="at">expected</span><span class="st">`</span><span class="sc">:</span> <span class="dv">5</span></span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a>Backtrace<span class="sc">:</span></span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a>x</span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a><span class="fl">1.</span> \<span class="sc">-</span>global <span class="st">`</span><span class="at">&lt;step&gt;</span><span class="st">`</span>(<span class="at">expected =</span> <span class="dv">5</span><span class="dt">L</span>, <span class="at">context =</span> <span class="st">`</span><span class="at">&lt;env&gt;</span><span class="st">`</span>)</span>
<span id="cb5-30"><a href="#cb5-30" tabindex="-1"></a><span class="fl">2.</span>   \<span class="sc">-</span>testthat<span class="sc">::</span><span class="fu">expect_equal</span>(context<span class="sc">$</span>result, expected) at .<span class="sc">/</span>steps<span class="sc">/</span>addition.R<span class="sc">:</span><span class="dv">7</span><span class="sc">:</span><span class="dv">2</span></span>
<span id="cb5-31"><a href="#cb5-31" tabindex="-1"></a><span class="fu">Failure</span> (<span class="st">'test-cucumber.R:1:1'</span>)<span class="sc">:</span> Scenario<span class="sc">:</span> Adding float and float</span>
<span id="cb5-32"><a href="#cb5-32" tabindex="-1"></a>context<span class="sc">$</span><span class="fu">result</span> (<span class="st">`</span><span class="at">actual</span><span class="st">`</span>) not equal to <span class="st">`</span><span class="at">expected</span><span class="st">`</span> (<span class="st">`</span><span class="at">expected</span><span class="st">`</span>).</span>
<span id="cb5-33"><a href="#cb5-33" tabindex="-1"></a><span class="st">`</span><span class="at">actual</span><span class="st">`</span><span class="sc">:</span> <span class="dv">2</span></span>
<span id="cb5-34"><a href="#cb5-34" tabindex="-1"></a><span class="st">`</span><span class="at">expected</span><span class="st">`</span><span class="sc">:</span> <span class="dv">5</span></span>
<span id="cb5-35"><a href="#cb5-35" tabindex="-1"></a>Backtrace<span class="sc">:</span></span>
<span id="cb5-36"><a href="#cb5-36" tabindex="-1"></a>x</span>
<span id="cb5-37"><a href="#cb5-37" tabindex="-1"></a><span class="fl">1.</span> \<span class="sc">-</span>global <span class="st">`</span><span class="at">&lt;step&gt;</span><span class="st">`</span>(<span class="at">expected =</span> <span class="dv">5</span><span class="dt">L</span>, <span class="at">context =</span> <span class="st">`</span><span class="at">&lt;env&gt;</span><span class="st">`</span>)</span>
<span id="cb5-38"><a href="#cb5-38" tabindex="-1"></a><span class="fl">2.</span>   \<span class="sc">-</span>testthat<span class="sc">::</span><span class="fu">expect_equal</span>(context<span class="sc">$</span>result, expected) at .<span class="sc">/</span>steps<span class="sc">/</span>addition.R<span class="sc">:</span><span class="dv">7</span><span class="sc">:</span><span class="dv">2</span></span>
<span id="cb5-39"><a href="#cb5-39" tabindex="-1"></a>[ FAIL <span class="dv">1</span> <span class="sc">|</span> WARN <span class="dv">0</span> <span class="sc">|</span> SKIP <span class="dv">0</span> <span class="sc">|</span> PASS <span class="dv">2</span> ]</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="running-cucumber-tests-separately-to-unit-tests">Running cucumber tests separately to unit tests<a class="anchor" aria-label="anchor" href="#running-cucumber-tests-separately-to-unit-tests"></a>
</h2>
<p>If you want to run cucumber tests separately, for example as a different testing step on CI, just put <code>cucumber</code> tests in other directory (or use <a href="https://testthat.r-lib.org/reference/test_dir.html" class="external-link">testthat::test_dir filter parameter</a>).</p>
<p>This may be especially useful, if <code>cucumber</code> tests are significantly slower than unit tests. It may often be the case as <code>cucumber</code> tests should target integration of different parts of the system and provide a high level confirmation if the system works as expected.</p>
<pre><code>â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ cucumber/
â”‚   â”‚   â”œâ”€â”€ steps/
â”‚   â”‚   â”‚   â”œâ”€â”€ feature_1_steps.R
â”‚   â”‚   â”‚   â”œâ”€â”€ feature_2_steps.R
â”‚   â”‚   â”œâ”€â”€ feature_1.feature
â”‚   â”‚   â”œâ”€â”€ feature_2.feature
â”‚   â”‚   â”œâ”€â”€ test-cucumber.R
â”‚   â”œâ”€â”€ testthat/
â”‚   â”‚   â”œâ”€â”€ test-unit_test_1.R
â”‚   â”‚   â”œâ”€â”€ test-unit_test_2.R</code></pre>
<p>In that case you would run <code>cucumber</code> tests with <code>testthat::test_dir("tests/cucumber")</code>.</p>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>See the <a href="https://github.com/jakubsob/cucumber/tree/main/inst/examples" class="external-link">examples directory</a> to help you get started.</p>
</div>
<div class="section level2">
<h2 id="how-it-works">How it works<a class="anchor" aria-label="anchor" href="#how-it-works"></a>
</h2>
<p>The <code>.feature</code> files are parsed and matched against step definitions.</p>
<p>Step functions are defined using: - <code>description</code>: a <a href="https://github.com/cucumber/cucumber-expressions" class="external-link">cucumber expression</a>. - and an implementation function. It must have the parameters that will be matched in the description and a <code>context</code> parameter - an environment for managing state between steps.</p>
<p>If a step parsed from one of <code>.feature</code> files is not found, an error will be thrown.</p>
<div class="section level3">
<h3 id="parameter-types">Parameter types<a class="anchor" aria-label="anchor" href="#parameter-types"></a>
</h3>
<p>Step implementations receive data from the <code>.feature</code> files as parameters. The values are detected via regular expressions and casted with a transformer function.</p>
<p>The following parameter types are available by default:</p>
<table class="table">
<colgroup>
<col width="10%">
<col width="25%">
<col width="63%">
</colgroup>
<thead><tr class="header">
<th>Parameter Type</th>
<th>Underlying regular expression</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>{int}</code></td>
<td><code>[+-]?(?&lt;![.])[:digit:]+(?![.])</code></td>
<td>Matches integers, for example <code>71</code> or <code>-19</code>. Converts value with <code>as.integer</code>.</td>
</tr>
<tr class="even">
<td><a href="https://github.com/wrathematics/float" class="external-link">float</a></td>
<td><code>[+-]?[[:digit:]+]?\\.[:digit:]+</code></td>
<td>Matches floats, for example <code>3.6</code>, <code>.8</code> or <code>-9.2</code>. Converts value with <code>as.double</code>.</td>
</tr>
<tr class="odd">
<td><code>{string}</code></td>
<td><code>[:print:]+</code></td>
<td>Matches letters, numbers, punctuation and whitespace.</td>
</tr>
</tbody>
</table>
<p>See <code><a href="reference/define_parameter_type.html">cucumber::define_parameter_type()</a></code> how to define your own parameter types.</p>
</div>
</div>
<div class="section level2">
<h2 id="supported-gherkin-syntax">Supported Gherkin syntax:<a class="anchor" aria-label="anchor" href="#supported-gherkin-syntax"></a>
</h2>
<ul class="task-list">
<li><label><input type="checkbox" checked>Feature</label></li>
<li><label><input type="checkbox" checked>Scenario</label></li>
<li><label><input type="checkbox" checked>Example</label></li>
<li><label><input type="checkbox" checked>Given</label></li>
<li><label><input type="checkbox" checked>When</label></li>
<li><label><input type="checkbox" checked>Then</label></li>
<li><label><input type="checkbox" checked>And</label></li>
<li><label><input type="checkbox" checked>But</label></li>
<li><label><input type="checkbox">Background</label></li>
<li><label><input type="checkbox">Scenario Outline (or Scenario Template)</label></li>
<li><label><input type="checkbox">Examples (or Scenarios)</label></li>
<li><label><input type="checkbox" checked><code>"""</code> (Doc Strings)</label></li>
<li><label><input type="checkbox" checked><code>|</code> (Data Tables)</label></li>
<li><label><input type="checkbox"><code>@</code> (Tags)</label></li>
<li><label><input type="checkbox" checked><code>#</code> (Comments)</label></li>
</ul>
<p>See the <a href="https://cucumber.io/docs/gherkin/reference/" class="external-link">Gherkin Reference</a> on how to write Gherkin documents.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of cucumber from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"jakubsob/cucumber"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=cucumber" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/jakubsob/cucumber/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/jakubsob/cucumber" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing cucumber</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jakub Sobolewski <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jakubsob/cucumber/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/jakubsob/cucumber/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/jakubsob/cucumber?branch=main" class="external-link"><img src="https://codecov.io/gh/jakubsob/cucumber/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://CRAN.R-project.org/package=cucumber" class="external-link"><img src="https://www.r-pkg.org/badges/version/cucumber" alt="CRAN status"></a></li>
<li><a href="https://cran.r-project.org/package=cucumber" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/cucumber"></a></li>
<li><a href="https://cran.r-project.org/package=cucumber" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/last-month/cucumber"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jakub Sobolewski.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
